<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8"/>
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
        <title>Browser Block Tool | Ninja Blocks</title>
        <meta name="description" content=""/>
        <meta name="viewport" content="width=device-width"/>

        <link href="http://fonts.googleapis.com/css?family=Tauri" rel="stylesheet" type="text/css">
        <link rel="stylesheet" href="components/angular-ui/build/angular-ui.min.css"/>
        <link rel="stylesheet" href="styles/main.css"/>
        <link rel="stylesheet" href="components/codemirror/lib/codemirror.css"/>
        <link rel="stylesheet" href="components/codemirror/theme/monokai.css"/>
        <link rel="stylesheet" href="components/codemirror/theme/solarized.css"/>
        <script src="components/foundation/js/vendor/custom.modernizr.js"></script>

    </head>
    <body ng-app="devicetoolApp">

        <!--[if lt IE 7]>
            <p class="chromeframe">You are using an outdated browser. <a href="http://browsehappy.com/">Upgrade your browser today</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to better experience this site.</p>
        <![endif]-->

        <!--[if lt IE 9]>
            <script src="scripts/vendor/es5-shim.min.js"></script>
            <script src="scripts/vendor/json3.min.js"></script>
        <![endif]-->

        <header>
          <nav class="top-bar">
            <ul class="title-area">
              <li class="name">
                <h1><a href="">Browser Block Tool</a></h1>
              </li>
              <li class="toggle-topbar menu-icon"><a href="#"><span>Menu</span></a></li>
            </ul>

            <section class="top-bar-section">
              <ul class="left">
                
              </ul>
              <ul class="right">
                
              </ul>
            </section>
          </nav>
        </header>

        <!-- FACTORY CONTROLS -->
        <div class="control row">

          <!-- BLOCKS CONTROLLER -->
          <section class="large-4 columns" ng-controller="BlocksCtrl">

            <div class="content">
              <h5>Block Factory</h5>
              <div class="blocks">
                  <div class="block" ng-repeat="Block in Blocks" ng-controller="BlockCtrl">
                    <h5 class="nodeId" select-on-click>{{ Block.Options.nodeId }} </h5>
                    <span class="paired label lightgreen radius" ui-if="IsActivated()">Paired</span>
                    <a class="button tiny radius alert" ng-click="Activate()" ui-if="!IsActivated()">Activate</a>
                    <a class="button tiny radius orange" ng-click="Listen()" ui-if="IsActivated() && !IsListening()">Listen</a>
                    <a class="button tiny radius alert" ng-click="StopListening()" ui-if="IsActivated() && IsListening()">Stop Listening</a>

                    <small>Devices: {{ Block.Devices.length }}</small>

                    <div class="remove foundicon-remove" ng-click="Remove()"></div>
                  </div>
              </div>
              <a class="button small radius success" ng-click="CreateNewBlock()">Create New Block</a>
              <a class="button small radius" ng-click="SaveBlocks()">Save</a>
            </div>
          </section>

          <!-- DEVICES CONTROLLER -->
          <section class="large-8 columns" ng-controller="DeviceFactoryCtrl">
            <div class="content">
              <h5>Device Factory</h5>
              <form class="factory custom row">

                <fieldset class="small-12 large-6 columns">
                  <!-- Block -->
                  <div class="row">
                    <div class="small-5 columns"><label for="" class="inline right">Block</label></div>
                    <div class="small-7 columns">
                      <select name="" id="" class="small" ng-model="BlockNodeId">
                        <option ng-repeat="Block in Blocks" value="{{ Block.Options.nodeId }}">{{ Block.Options.nodeId }}</option>
                      </select>
                    </div>
                  </div>

                  <!-- Device Type -->
                  <div class="row">
                    <div class="small-5 columns"><label for="deviceType" class="inline right">Type</label></div>
                    <div class="small-7 columns">
                      <select name="deviceType" id="deviceType" class="small" ng-model="DeviceOptions.type">
                        <option value="">- Select -</option>
                        <option ng-repeat="Type in Types" value="{{ Type }}">{{ Type }}</option>
                      </select>
                    </div>
                  </div>

                  <!-- Name -->
                  <div class="row">
                    <div class="small-5 columns"><label for="deviceName" class="inline right">Short Name</label></div>
                    <div class="small-7 columns"><input type="text" name="deviceName" id="deviceName" ng-model="DeviceOptions.name" select-on-click></div>
                  </div>

                </fieldset>

                <fieldset class="small-12 large-6 columns">
                  <!-- Device Id -->
                  <div class="row">
                    <div class="small-5 columns"><label for="deviceId" class="inline right">Device Id</label></div>
                    <div class="small-7 columns"><input type="text" name="deviceId" id="deviceId" ng-model="DeviceOptions.deviceId" placeholder="Device Id" select-on-click></div>
                  </div>

                  <!-- Vendor -->
                  <div class="row">
                    <div class="small-5 columns"><label for="deviceVendor" class="inline right">Vendor</label></div>
                    <div class="small-7 columns"><input type="text" name="deviceVendor" id="deviceVendor" ng-model="DeviceOptions.vendor" placeholder="Vendor Id" select-on-click></div>
                  </div>

                  <!-- Port -->
                  <div class="row">
                    <div class="small-5 columns"><label for="devicePort" class="inline right">Port</label></div>
                    <div class="small-7 columns"><input type="text" name="devicePort" id="devicePort" ng-model="DeviceOptions.port" placeholder="Port" select-on-click></div>
                  </div>

                  <!-- Create -->
                  <div class="row">
                    <div class="small-7 small-offset-4 columns">
                      <a href="" class="button small radius success" ng-click="CreateDevice()">Create Device</a>
                    </div>
                  </div>
                </fieldset>


                <div class="large-12 columns" id="onActuate">
                  <h6>Advanced</h6>
                  <div class="advanced">
                    <p>When this device gets actuated run the following function</p>
                    <pre code-input-js readonly>onActuate: function(DA) {</pre>
                    <div class="code" code-input-js="">
                      console.log('My Data Value:', DA);
                    </div>
                    <pre code-input-js readonly>}</pre>
                  </div>
                </div>
              </form>
            </div>
          </section>
          <section class="large-4 columns"></section>
        </div>

        <!-- DEVICES -->
        <div class="row"><div class="large-12 columns"><h5>Devices</h5></div></div>
        <div class="devices row" ng-controller="DevicesCtrl">
          <div class="device radius large-4 columns" ng-repeat="Device in Devices">
            <div class="panel" ng-controller="DeviceCtrl">
              <h6><span class="status foundicon-star offline" ng-class="{offline:!Device.Options.block.IsListening()}"></span><small>{{ Device.GUID() }}</small></h6>
              <h5>{{ Device.Options.shortName }}</h5>

              <table>
                <tr>
                  <th>Block</th>
                  <td>{{ Device.Options.block.Options.nodeId }}</td>
                </tr>
                <tr>
                  <th>Port</th>
                  <td>{{ Device.Options.port }} </td>
                </tr>
                <tr>
                  <th>Vendor</th>
                  <td>{{ Device.Options.vendor }}</td>
                </tr>
                <tr>
                  <th>Device Id</th>
                  <td>{{ Device.Options.deviceId }}</td>
                </tr>
                <tr>
                  <th>Type</th>
                  <td>{{ Device.Options.type }}</td>
                </tr>

              </table>
      
              <div class="row collapse">
                <div class="small-9 columns">
                  <input type="text" ng-model="Device.Options.value">
                </div>
                <div class="small-3 columns">
                  <a href="" class="button small" ng-click="Emit()">Emit</a>
                </div>
              </div>
              <div class="remove foundicon-remove" ng-click="Remove()"></div>

            </div>

          </div>
        </div>


        <!-- Add your site or application content here -->
        <div class="container" ng-view></div>

        <script src="components/jquery/jquery.min.js"></script>
        <script src="components/jquery/jquery-migrate.min.js"></script>
        <script src="components/foundation/js/vendor/zepto.js"></script>
        <script src="scripts/vendor/angular.js"></script>

        <!-- build:js scripts/scripts.js -->
        <script src="components/foundation/js/foundation/foundation.js"></script>
        <script src="components/foundation/js/foundation/foundation.alerts.js"></script>
        <script src="components/foundation/js/foundation/foundation.clearing.js"></script>
        <script src="components/foundation/js/foundation/foundation.cookie.js"></script>
        <script src="components/foundation/js/foundation/foundation.dropdown.js"></script>
        <script src="components/foundation/js/foundation/foundation.forms.js"></script>
        <script src="components/foundation/js/foundation/foundation.joyride.js"></script>
        <script src="components/foundation/js/foundation/foundation.magellan.js"></script>
        <script src="components/foundation/js/foundation/foundation.orbit.js"></script>
        <script src="components/foundation/js/foundation/foundation.placeholder.js"></script>
        <script src="components/foundation/js/foundation/foundation.reveal.js"></script>
        <script src="components/foundation/js/foundation/foundation.section.js"></script>
        <script src="components/foundation/js/foundation/foundation.tooltips.js"></script>
        <script src="components/foundation/js/foundation/foundation.topbar.js"></script>
        <script src="components/underscore/underscore-min.js"></script>
        <script src="components/angular-underscore/angular-underscore.js"></script>
        <script src="components/store.js/store.min.js"></script>
        <script src="components/angular-ui/build/angular-ui.min.js"></script>
        <script src="components/codemirror/lib/codemirror.js"></script>
        <script src="components/codemirror/mode/javascript/javascript.js"></script>
        
        <script src="scripts/lib/ninja.js"></script>

        <script src="scripts/app.js"></script>

        <script src="scripts/services/Utils.js"></script>
        <script src="scripts/services/StoreJS.js"></script>
        <script src="scripts/services/NinjaService.js"></script>
        <script src="scripts/services/NinjaUtilities.js"></script>
        <script src="scripts/services/Config.js"></script>
        <script src="scripts/services/BlockService.js"></script>
        <script src="scripts/services/UIEvents.js"></script>
        <script src="scripts/services/Debug.js"></script>

        <script src="scripts/controllers/main.js"></script>
        <script src="scripts/controllers/Blocks.js"></script>
        <script src="scripts/controllers/Block.js"></script>
        <script src="scripts/controllers/DeviceFactory.js"></script>
        <script src="scripts/controllers/Devices.js"></script>

        <script src="scripts/directives/selectOnClick.js"></script>
        <script src="scripts/controllers/Device.js"></script>
        <script src="scripts/directives/codeInputJs.js"></script>
        <script src="scripts/services/Underscore.js"></script>
        <!-- endbuild -->

        <!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
        <script>
            var _gaq=[['_setAccount','UA-XXXXX-X'],['_trackPageview']];
            (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
            g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
            s.parentNode.insertBefore(g,s)}(document,'script'));
        </script>
    </body>
</html>
